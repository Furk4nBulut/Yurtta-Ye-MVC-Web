<!DOCTYPE html>
<html lang="tr" x-data="{ darkMode: localStorage.getItem('darkMode') === 'true' }" x-bind:class="{ 'dark': darkMode }">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - YurttaYe</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Alpine.js for minimal interactivity -->
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.14.1/dist/cdn.min.js" defer></script>
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <style>
        /* Light theme */
        .bg-stone-100 { background-color: #f5f5f4; }
        .text-stone-800 { color: #44403c; }
        .bg-stone-50 { background-color: #fafaf9; }
        .text-stone-600 { color: #78716c; }

        /* Dark theme */
        .dark .bg-stone-100 { background-color: #1f2937; }
        .dark .text-stone-800 { color: #e5e7eb; }
        .dark .bg-stone-50 { background-color: #4b5563; }
        .dark .text-stone-600 { color: #d1d5db; }
        .dark .bg-white { background-color: #374151; }
        .dark .text-gray-600 { color: #d1d5db; }
    </style>
</head>
<body class="bg-stone-50 font-sans transition-colors duration-300">
<header>
    <nav class="bg-stone-100 dark:bg-gray-800 shadow">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center py-4">
                <a class="text-xl font-bold text-stone-800 dark:text-white" href="/">YurttaYe</a>
                <div class="flex items-center space-x-4">
                    <button x-on:click="darkMode = !darkMode; localStorage.setItem('darkMode', darkMode)" class="text-stone-600 dark:text-gray-300 focus:outline-none" aria-label="Tema değiştir">
                        <svg x-show="!darkMode" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
                        </svg>
                        <svg x-show="darkMode" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                        </svg>
                    </button>
                    <button class="lg:hidden text-stone-600 dark:text-gray-300 focus:outline-none" type="button" x-on:click="navOpen = !navOpen" aria-label="Menüyü aç/kapat">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
                        </svg>
                    </button>
                </div>
                <div class="hidden lg:flex lg:items-center lg:space-x-4" x-show="navOpen" x-bind:class="{ 'block': navOpen, 'hidden': !navOpen }" x-data="{ navOpen: false }">
                    <ul class="flex space-x-4">
                        <li>
                            <a class="text-stone-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors" asp-controller="Home" asp-action="Index">Menü Sorgula</a>
                        </li>
                        @if (User.IsInRole("Admin"))
                        {
                            <li>
                                <a class="text-stone-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors" asp-area="Admin" asp-controller="AdminMenu" asp-action="Index">Menü Yönetimi</a>
                            </li>
                            <li>
                                <a class="text-stone-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors" asp-area="Admin" asp-controller="AdminCity" asp-action="Index">Şehir Yönetimi</a>
                            </li>
                        }
                    </ul>
                    <ul class="flex space-x-4 ml-auto">
                        @if (User.Identity.IsAuthenticated)
                        {
                            <li>
                                <a class="text-stone-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors" asp-controller="Account" asp-action="Logout">Çıkış</a>
                            </li>
                        }
                        else
                        {
                            <li>
                                <a class="text-stone-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors" asp-controller="Account" asp-action="Login">Giriş</a>
                            </li>
                        }
                    </ul>
                </div>
            </div>
        </div>
    </nav>
</header>
<div class="container mx-auto px-4 py-6">
    <main role="main">
        @RenderBody()
    </main>
</div>
<footer class="bg-stone-100 dark:bg-gray-800 shadow text-center py-4 mt-6">
    <p class="text-stone-600 dark:text-gray-300">© 2025 YurttaYe</p>
</footer>
<script src="~/lib/jquery/jquery.min.js"></script>
<script src="~/js/site.js" asp-append-version="true"></script>
@await RenderSectionAsync("Scripts", required: false)
</body>
</html>